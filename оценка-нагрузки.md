Оценка нагрузки

1) Расчет RPS

    Для расчета приблизительного усредненного RPS (запросов в секунду) по DAU (количество уникальных пользователей за сутки) нужно использовать следующую формулу:

    RPS = dau * avg_requests_per_day_by_user / 86 400

    Где:
    avg_requests_per_day_by_user — среднее количество запросов, которые генерирует каждый пользователь за один день.

    86 400 — 24 часа * 60 минут * 60 секунд.

    Пример:
    Если в системе ожидается 10 000 000 DAU, каждый из которых в среднем делает 5 запросов в день, то:

    RPS = 10 000 000 * 5 / 86 400 = 578

    Если известен MAU (количество уникальных пользователей за месяц), но не DAU, можно приблизительно вычислить DAU, разделив MAU на 30 (количество дней в месяце).


2) Расчет трафика

    Для расчета приблизительного усредненного трафика по RPS нужно использовать следующую формулу:

    Traffic = rps * avg_request_size

    Где:

    avg_request_size — средний размер запроса в байтах.

    Пример:
    Если ожидается 10 000 RPS, а средний размер запроса составляет 2 КБ, то:

    Traffic = 10 000 * 2КБ = 20 000КБ/с

3) Расчет одновременных соединений

    Для расчета приблизительного усредненного количества одновременно открытых соединений важно понимать, 
    что их число равно количеству пользователей, которые одновременно пользуются приложением (если один пользователь открывает одно соединение с приложением). 
    Число одновременных пользователей зависит от множества факторов, таких как активность пользователей и тип приложения. 
    В среднем, принято считать, что около 10% DAU находятся онлайн одновременно. Формула расчета:

    Connections = dau * 0.1

    Где:

    0.1 — 10% от ежедневно активных пользователей.

    Пример:
    Если ожидается 10 000 000 DAU, то:

    Connections = 10 000 000 * 0.1 = 1 000 000


